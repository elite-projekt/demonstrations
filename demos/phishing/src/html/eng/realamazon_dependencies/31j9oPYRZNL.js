(function(f){var d=window.AmazonUIPageJS||window.P,z=d._namespace||d.attributeErrors,w=z?z("AmazonGatewayHerotatorJS",""):d;w.guardFatal?w.guardFatal(f)(w,window):w.execute(function(){f(w,window)})})(function(f,d,z){f.when("generic-observable").register("gw-herotator-controller",function(f){var g=function(){};return function(d){function n(){c.notifyObservers("delayBegin")}function A(){c.notifyObservers("delayInterrupted")}function z(a){for(var k=0;k<l.length;k++)if(l[k]===a)return k+1}function p(b){b=
b||{};return{delay_complete:b.delay_complete||g,js_ready:b.js_ready||g,fg_loaded:b.fg_loaded||g,mouse_move:b.mouse_move||g,mouse_leave:b.mouse_leave||g,delay_interrupted_timeout:b.delay_interrupted_timeout||g,rotation_complete:b.rotation_complete||g,goto_card:function(b){b!==h&&a.user_navigation(l[b-1])},user_navigation:b.user_navigation||function(b){a=new C(b)},user_interaction:b.user_interaction||function(){a.user_navigation(l[h-1])},stop_autorotation:b.stop_autorotation||function(){a.user_navigation(l[h-
1])},pause:b.pause||g,resume:b.resume||g}}function u(){function b(){!c&&q[k]&&(a=1===e?new y:new H)}n();var k=l[(h-1+1)%e+1-1],c=!0;return new p({fg_loaded:function(a){a===k&&b()},delay_complete:function(){c=!1;b()},mouse_move:function(){a=new D},pause:function(){a=new r}})}function D(){A();return new p({mouse_move:A,mouse_leave:function(){a=new u},delay_interrupted_timeout:function(){a.mouse_leave()},pause:function(){a=new r(!0)}})}function r(b){A();return new p({mouse_move:function(){b=!0;A()},
mouse_leave:function(){b=!1},resume:function(){a=b?new D:0<B?new u:new y}})}function H(){c.notifyObservers("autorotating");h=(h-1+1)%e+1;c.notifyObservers("gotoCard",h);B--;return new p({rotation_complete:function(){a=0<B?new u:new y},mouse_move:function(){a=0<B?new I:new y},pause:function(){a=new F}})}function I(b){var c=!1;return new p({rotation_complete:function(){n();a=c?new r:new D},pause:function(){c=!0},resume:function(){c=!1}})}function F(){var b=!1;return new p({rotation_complete:function(){n();
a=new r(b)},mouse_move:function(){b=!0},mouse_leave:function(){b=!1}})}function C(b){c.notifyObservers("userNavigation");h=z(b);c.notifyObservers("gotoCard",h);return new p({rotation_complete:function(){a=new y},user_navigation:function(b){a=new E(b)},user_interaction:g})}function E(b){return new p({rotation_complete:function(){a=new C(b)},user_navigation:function(a){b=a},user_interaction:g})}function y(){c.notifyObservers("stopAutorotation");return new p({})}d=d||{};var c=new f,a=new function(){function b(){q[t]&&
e&&(c.notifyObservers("ready"),a=new u,f&&a.pause(),d&&a.stop_autorotation())}var e=!1,d=!1,f=!1;return new p({fg_loaded:function(a){a===t&&b()},js_ready:function(){e=!0;b()},user_navigation:g,stop_autorotation:function(){d=!0},pause:function(){f=!0},resume:function(){f=!1}})},l=d.fgIDs||[],e=l.length,t=l[0],h=d.card_num||1,q={},B=d.circular?Infinity:e;return{delayComplete:function(){a.delay_complete()},jsReady:function(){a.js_ready()},fgLoaded:function(b){q[b]=!0;t===b&&c.notifyObservers("atfLoaded");
a.fg_loaded(b)},mouseMove:function(){a.mouse_move()},mouseLeave:function(){a.mouse_leave()},delayInterruptedTimeout:function(){a.delay_interrupted_timeout()},rotationComplete:function(){a.rotation_complete()},gotoCard:function(b){a.goto_card(b)},userInteraction:function(){a.user_interaction()},userNavigation:function(b){a.user_navigation(b)},stopAutorotation:function(){a.stop_autorotation()},pause:function(){a.pause()},resume:function(){a.resume()},addObserver:c.addObserver,removeObserver:c.removeObserver}}});
"use strict";f.register("herotator",function(){return function(w,g){function x(a){return function(){f.when("gw-desktop-herotator/controller").execute(function(){e[a]()})}}function n(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function A(a,b){t[a]=[];var c=b.length;if(0<c)for(var d=0;d<c;d++)(function(c){var d=new Image;d.onload=function(){t[a].splice(I(t[a],d),1);t[a]&&0===t[a].length&&f.when("gw-desktop-herotator/controller").execute(function(){var b=document.getElementById("gw-ftGr-"+
a),c=b.className,c=c.replace(/\s*\ba\-lazy\-loaded\b\s*/,"");b.className=c;e.fgLoaded(a)})};t[a].push(d);d.src=b[c].src})(d);else f.when("gw-desktop-herotator/controller").execute(function(){e.fgLoaded(a)})}function z(){y=Date.now();d.uet&&d.uet("cf","hero-first-image",{wb:1});d.uex&&d.uex("ld","hero-first-image",{wb:1})}function p(){B||r()}function u(){k=k?Math.min(k,Date.now()):Date.now();clearTimeout(C.timeout_id);clearTimeout(u.timeout_id);u.timeout_id=setTimeout(function(){u.timeout_id=0;e.delayInterruptedTimeout()},
3E3)}function D(){B=!0}function r(){r.sent||(clearTimeout(r.timeout),r.timeout=setTimeout(function(){H(w.uri,w.data);r.sent=!0},2E3))}function H(a,b){f.when("A").execute(function(c){c.$.ajax(a,{async:!1,cache:!1,type:"post",data:b})})}function I(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(a[c]===b)return c}function F(a){"object"===typeof d.ue&&"function"===typeof d.ue.count&&d.ue.count(a,(d.ue.count(a)||0)+1)}function C(a){b<k&&(q-=k-b,k=0);b=Date.now();C.timeout_id=setTimeout(function(){q=
h;e.delayComplete()},q)}function E(a,b){E.current_card!==b&&(E.current_card=b,v.gotoPage(b),l.notifyObservers("page_changed"));setTimeout(function(){e.rotationComplete()},250)}var y=Date.now(),c=document.getElementById("gw-desktop-herotator"),a=c.getElementsByTagName("ol")[0],l,e,t={},h=parseInt(c.getAttribute("data-autorotation-delay"),10),q=h,B=!1,b=0,k=0,v,m;n(a,"click",x("userInteraction"));n(a,"mouseenter",x("mouseMove"));n(a,"mousemove",x("mouseMove"));n(a,"mouseleave",x("mouseLeave"));n(a,
"touchstart",x("userInteraction"));n(a,"touchmove",x("userInteraction"));n(a,"touchend",x("userInteraction"));n(a,"touchcancel",x("userInteraction"));for(var c=document.getElementById("gw-desktop-herotator").getElementsByTagName("li")[0],a=0,G=c.childNodes[a];G&&"div"!==String(G.nodeName).toLowerCase();)a++,G=c.childNodes[a];a=G;c=String(a.id).replace(/^gw-ftGr-/,"");a=a.getElementsByTagName("img");A(c,a||[]);for(var J=[c],c=0;g[c];)J.push(g[c].fgID),c++;f.when("gw-herotator-controller").execute(function(a){e=
new a({fgIDs:J});e.addObserver("atfLoaded",z);e.addObserver("delayBegin",C);e.addObserver("delayInterrupted",u);e.addObserver("gotoCard",E);e.addObserver("userNavigation",p);e.addObserver("stopAutorotation",D);e.addObserver("ready",function(){var a=Date.now()-y;q=Math.max(h-a,1);"use strict";f.register("herotator-controls",function(){function a(){c.show();m(".a-carousel-left").css("z-index",10);m(".a-carousel-right").css("z-index",10)}function b(){c.hide()}var c=m(".a-carousel-rounded-buttons .a-carousel-left,.a-carousel-rounded-buttons .a-carousel-right");
m(".a-carousel-rounded-buttons .a-carousel-left").attr("cel_widget_id","gw-desktop-hero-left-cel");m(".a-carousel-rounded-buttons .a-carousel-right").attr("cel_widget_id","gw-desktop-hero-right-cel");m(".a-carousel-rounded-buttons .a-carousel-left").addClass("celwidget");m(".a-carousel-rounded-buttons .a-carousel-right").addClass("celwidget");m(".a-carousel-rounded-buttons .a-carousel-left").click(function(a){F("gw-desktop-hero-left")});m(".a-carousel-rounded-buttons .a-carousel-right").click(function(a){F("gw-desktop-hero-right")});
var e=m("#gw-desktop-herotator");e.addClass("gw-desktop-herotator-ready");1<e.find(".a-carousel-card").length?(a(),d.GWI&&d.GWI.recordLatency("gwHerotatorActive")):b();return{activePage:function(a){},show:a,hide:b}});m("#gw-desktop-herotator").addClass("gw-desktop-herotator-ready")});f.register("gw-desktop-herotator/controller");f.when("generic-observable").register("gw-desktop-herotator",function(a){l=new a;return{getAutorotationDelay:function(){return h},setAutorotationDelay:function(a){a=parseInt(a,
10);q=a-(h-q);h=a},stopAutorotation:function(){e.stopAutorotation()},disableNavigation:function(){f.now("herotator-controls").execute(function(a){a.hide()});v.pause()},enableNavigation:function(){f.now("herotator-controls").execute(function(a){a.show()});v.resume()},pause:function(){e.pause()},resume:function(){e.resume()},addObserver:l.addObserver,removeObserver:l.removeObserver}})});f.when("A","a-carousel-framework","gwAjax").execute(function(a,b,c){function h(){var a=0;for(d.GWI&&d.GWI.recordLatency("gw-hero-btf-populate");g[a];){var b=
g[a].fgID,c=g[a].content,e=document.getElementById("gw-ftGr-"+b);m(e).html(c);c=e.getElementsByTagName("img");A(b,c);a++}}m=a.$;b.onInit("gateway-desktop-layout.herotator",function(){var d=a.$("#gw-desktop-herotator \x3e .a-carousel-container");v=b.getCarousel(d);v.onChange("pageNumber",function(){var a=v.getAttr("pageNumber");e.gotoCard(a);a-=2;g[a]&&g[a].callbackUrl&&(c(g[a].callbackUrl,{type:"POST",id:"desktop-herotator-btf-"+g[a].fgID}),delete g[a].callbackUrl)});v.onChange("animating",function(a){a||
l.notifyObservers("animation_complete")});f.when("herotator-controls").execute(function(a){v.onChange("pageNumber",function(){var b=v.getAttr("pageNumber");a.activePage(b)})});h();f.when("gw-desktop-herotator").register("gw-desktop-herotator/dom-ready");f.when("gw-desktop-herotator/controller","gw-desktop-herotator").execute(function(){e.jsReady()})})})}})});